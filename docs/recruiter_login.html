<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recruiter Login | SkillMatch AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="icon" type="image/png" href="logo.png">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
          font-family: 'Inter', sans-serif;
        }

        body {
          background: radial-gradient(circle at top left, #0b172e, #04050f);
          color: #f4f6fb;
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow-x: hidden;
          overflow-y: auto;
          padding: 2.5rem;
          position: relative;
        }

        body::before,
        body::after {
          content: "";
          position: absolute;
          width: 140vmax;
          height: 140vmax;
          border-radius: 50%;
          filter: blur(170px);
          opacity: 0.3;
          z-index: 0;
          animation: pulse 22s infinite alternate;
        }

        body::before {
          background: radial-gradient(circle, rgba(34,211,238,0.55) 0%, rgba(59,130,246,0.25) 55%, transparent 100%);
          top: -70vmax;
          left: -45vmax;
        }

        body::after {
          background: radial-gradient(circle, rgba(14,165,233,0.55) 0%, rgba(165,243,252,0.2) 45%, transparent 100%);
          bottom: -65vmax;
          right: -35vmax;
          animation-delay: 5s;
        }

        @keyframes pulse {
          0% { transform: scale(0.94) rotate(0deg); }
          100% { transform: scale(1.05) rotate(6deg); }
        }

        .shape {
          position: absolute;
          width: 220px;
          height: 220px;
          background: linear-gradient(140deg, rgba(14,165,233,0.35), rgba(56, 189, 248, 0.18));
          border-radius: 32% 68% 63% 37% / 45% 32% 68% 55%;
          filter: blur(1px);
          z-index: 1;
          animation: float 18s ease-in-out infinite;
          top: 16%;
          right: 12%;
        }

        .shape.shape-2 {
          width: 160px;
          height: 160px;
          background: linear-gradient(140deg, rgba(56,189,248,0.32), rgba(103,232,249,0.18));
          top: 10%;
          left: 12%;
          animation-duration: 21s;
        }

        .shape.shape-3 {
          width: 180px;
          height: 180px;
          background: linear-gradient(140deg, rgba(6,182,212,0.28), rgba(59,130,246,0.2));
          bottom: 12%;
          right: 18%;
          animation-duration: 20s;
          animation-delay: 4s;
        }

        @keyframes float {
          0%, 100% { transform: translate3d(0, 0, 0) rotate(0deg); }
          50% { transform: translate3d(38px, -28px, 0) rotate(10deg); }
        }

        .container {
          position: relative;
          z-index: 2;
          width: 100%;
          max-width: 520px;
          padding: 3.1rem 3rem 2.5rem;
          border-radius: 1.75rem;
          background: rgba(8, 16, 32, 0.78);
          border: 1px solid rgba(56, 189, 248, 0.28);
          backdrop-filter: blur(15px);
          box-shadow: 0 28px 65px rgba(8, 24, 48, 0.65);
          display: grid;
          gap: 1.75rem;
          animation: fadeUp 0.9s ease;
        }

        @keyframes fadeUp {
          from { opacity: 0; transform: translateY(32px) scale(0.97); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }

        header {
          display: grid;
          gap: 0.5rem;
        }

        header .brand {
          display: inline-flex;
          align-items: center;
          gap: 0.75rem;
          color: #67e8f9;
          font-weight: 700;
          letter-spacing: 0.18rem;
          text-transform: uppercase;
          font-size: 0.85rem;
        }

        header h1 {
          font-size: 2.1rem;
          font-weight: 700;
          color: #f8fafc;
        }

        header p {
          color: #cbd5e1;
          font-size: 1rem;
          max-width: 90%;
        }

        form {
          display: grid;
          gap: 1.1rem;
        }

        .field {
          display: grid;
          gap: 0.45rem;
          text-align: left;
        }

        .field label {
          font-size: 0.9rem;
          font-weight: 600;
          color: #cbd5e1;
        }

        .field input {
          width: 100%;
          padding: 0.9rem 1rem;
          border-radius: 12px;
          border: 1px solid rgba(94, 234, 212, 0.25);
          background: rgba(8, 16, 32, 0.65);
          color: #f1f5f9;
          transition: border-color 0.2s ease, box-shadow 0.2s ease;
          outline: none;
        }

        .field input::placeholder {
          color: #94a3b8;
        }

        .field input:focus {
          border-color: rgba(56, 189, 248, 0.7);
          box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.2);
        }

        #submitBtn {
          background: linear-gradient(110deg, #0ea5e9, #22d3ee);
          color: #ffffff;
          padding: 0.95rem;
          border-radius: 14px;
          border: none;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 16px 34px rgba(14, 165, 233, 0.42);
          transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 0.45rem;
        }

        #submitBtn:hover {
          filter: brightness(1.06);
          transform: translateY(-2px);
          box-shadow: 0 18px 38px rgba(56, 189, 248, 0.55);
        }

        #submitBtn:disabled {
          opacity: 0.7;
          cursor: wait;
          transform: none;
          box-shadow: none;
        }

        .quick-links {
          display: flex;
          flex-wrap: wrap;
          gap: 0.75rem;
        }

        .link-button {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: 0.3rem;
          padding: 0.75rem 1.15rem;
          border-radius: 0.75rem;
          border: 1px solid rgba(56, 189, 248, 0.32);
          color: #7dd3fc;
          text-decoration: none;
          font-weight: 600;
          font-size: 0.95rem;
          transition: background 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
        }

        .link-button:hover {
          background: rgba(56, 189, 248, 0.16);
          transform: translateY(-2px);
          box-shadow: 0 12px 26px rgba(56, 189, 248, 0.25);
        }

        footer {
          font-size: 0.8rem;
          color: rgba(226, 232, 240, 0.7);
          text-align: center;
        }

        @media (max-width: 640px) {
          body {
            padding: 1.75rem 1.25rem;
          }
          .container {
            padding: 2.6rem 1.9rem 2.1rem;
            max-width: 100%;
          }
          header p {
            max-width: 100%;
          }
          .quick-links {
            justify-content: center;
          }
        }
    </style>
</head>

<body>
<div class="shape"></div>
<div class="shape shape-2"></div>
<div class="shape shape-3"></div>

<main class="container">
    <header>
        <span class="brand">Recruiter Access</span>
        <h1>Welcome back, Talent Partner</h1>
        <p>Sign in to manage talent pipelines, review applications, and connect with top candidates curated by SkillMatch AI.</p>
    </header>

    <form id="loginForm" autocomplete="on">
        <div class="field">
            <label for="email">Work Email</label>
            <input id="email" type="email" placeholder="recruiter@company.com" autocomplete="email" required>
        </div>

        <div class="field">
            <label for="password">Password</label>
            <input id="password" type="password" placeholder="Enter your password" autocomplete="current-password" required>
        </div>

        <button id="submitBtn" type="submit">Sign in to dashboard</button>
    </form>

    <div class="quick-links">
        <a class="link-button" href="/register.html">Need a recruiter account?</a>
        <a class="link-button" href="/index.html">Back to home</a>
    </div>

    <footer>Secure recruiter experience • SkillMatch AI</footer>
</main>

<script src="/js/api.js"></script>
<script>
  const form = document.getElementById('loginForm');
  const submitBtn = document.getElementById('submitBtn');

  const showError = (message) => {
    Swal.fire({
      title: 'Login Failed',
      text: message,
      icon: 'error',
      confirmButtonColor: '#0ea5e9',
      background: 'rgba(8, 16, 32, 0.92)',
      color: '#e2e8f0'
    });
  };

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    if (submitBtn) {
      submitBtn.disabled = true;
    }

    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value;

    try {
      const data = await window.Api.login({ email, password });

      if (!data || data.userType !== 'RECRUITER') {
        window.Api.logout();
        throw new Error('Please sign in with a recruiter account.');
      }

      await Swal.fire({
        title: 'Welcome back!',
        html: '<strong>Recruiter login successful</strong><br>Redirecting to your workspace…',
        icon: 'success',
        showConfirmButton: false,
        timer: 1800,
        timerProgressBar: true,
        background: 'rgba(8, 16, 32, 0.92)',
        color: '#f8fafc',
        allowOutsideClick: false,
        didOpen: () => {
          Swal.showLoading();
        }
      });

      window.location.href = '/recruiter_dashboard.html';
    } catch (err) {
      console.error('Recruiter login failed', err);
      showError(err?.message || 'Unable to log in. Please try again.');
    } finally {
      if (submitBtn) {
        submitBtn.disabled = false;
      }
    }
  });
</script>
</body>
</html>
