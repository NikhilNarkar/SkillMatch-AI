<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - SkillMatch AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

    <style>
        /* üåå Base Styles */
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
          font-family: "Inter", sans-serif;
        }

        body {
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          background: radial-gradient(circle at center, #0a0f1f, #000);
          color: #e0f7ff;
          overflow: hidden;
        }

        /* Floating Glow Orbs */
        .orb {
          position: absolute;
          border-radius: 50%;
          filter: blur(100px);
          opacity: 0.18;
          animation: float 10s ease-in-out infinite alternate;
        }

        .orb1 {
          top: 10%;
          left: 15%;
          width: 250px;
          height: 250px;
          background: #00ffff;
        }

        .orb2 {
          bottom: 10%;
          right: 15%;
          width: 300px;
          height: 300px;
          background: #0077ff;
          animation-delay: 3s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-20px); }
        }

        /* Container */
        .container {
          position: relative;
          z-index: 2;
          background: rgba(15, 25, 45, 0.85);
          border: 1px solid rgba(0, 255, 255, 0.2);
          border-radius: 18px;
          box-shadow: 0 0 25px rgba(0, 255, 255, 0.15);
          padding: 2.5rem;
          width: 100%;
          max-width: 420px;
          text-align: center;
          animation: fadeIn 0.8s ease;
        }

        h2 {
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 1.5rem;
          color: #00ffff;
          text-shadow: 0 0 12px #00ffffa0, 0 0 24px #0077ffa0;
        }

        form {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        label {
          text-align: left;
          font-size: 0.9rem;
          color: #b0e7ff;
          font-weight: 600;
        }

        input, select {
          margin-top: 0.4rem;
          padding: 0.7rem 1rem;
          border-radius: 10px;
          border: 1px solid rgba(0, 255, 255, 0.2);
          background: rgba(5, 10, 25, 0.9);
          color: #e0f7ff;
          font-size: 1rem;
          transition: all 0.25s ease;
        }

        input:focus, select:focus {
          border-color: #00ffff;
          box-shadow: 0 0 10px #00ffff80;
          outline: none;
          transform: scale(1.01);
        }

        /* Neon Button */
        .btn {
          margin-top: 1rem;
          background: linear-gradient(90deg, #00ffff, #0077ff);
          color: #000;
          font-weight: 700;
          font-size: 1rem;
          border: none;
          padding: 0.8rem;
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 0 20px #00ffff80;
        }

        .btn:hover {
          transform: scale(1.05);
          box-shadow: 0 0 30px #00ffffc0;
        }

        /* Message Styles */
        #msg {
          margin-top: 1rem;
          font-weight: 500;
          font-size: 0.95rem;
        }

        .error {
          color: #ff4d6d;
          text-shadow: 0 0 6px #ff4d6d90;
        }

        .success {
          color: #00ff99;
          text-shadow: 0 0 6px #00ff99a0;
        }

        a {
          color: #00ffff;
          text-decoration: none;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        a:hover {
          color: #7eefff;
          text-shadow: 0 0 6px #00ffff90;
        }

        footer {
          margin-top: 2rem;
          text-align: center;
          font-size: 0.85rem;
          color: #88aabb;
          position: relative;
          z-index: 2;
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 480px) {
          .container {
            margin: 1rem;
            padding: 1.8rem;
          }
        }
    </style>
</head>

<body>
<!-- Floating Glow Effects -->
<div class="orb orb1"></div>
<div class="orb orb2"></div>

<main class="container">
    <h2>Create Your SkillMatch Account</h2>

    <form id="regForm">
        <label>First Name
            <input id="firstName" placeholder="Enter your first name" required />
        </label>

        <label>Last Name
            <input id="lastName" placeholder="Enter your last name" required />
        </label>

        <label>Email
            <input type="email" id="email" placeholder="you@example.com" required />
        </label>

        <label>Phone
            <input id="phone" type="tel" placeholder="Optional" />
        </label>

        <label>Password
            <input type="password" id="password" placeholder="Create a password" required />
        </label>

        <label>User Type
            <select id="userType" required>
                <option value="" disabled selected>Select user type</option>
                <option value="CANDIDATE">Candidate</option>
                <option value="RECRUITER">Recruiter</option>
                <option value="ADMIN">Admin</option>
            </select>
        </label>

        <button class="btn" type="submit">Create Account</button>
    </form>

    <div id="msg" class="mt"></div>

    <p class="mt">Already have an account? <a href="login.html">Login</a></p>
    <p><a href="/">‚Üê Back to Home</a></p>
</main>

<footer>
    ¬© 2025 SkillMatch AI ‚Äî Smart Career Empowerment
</footer>

<script src="/js/api.js"></script>
<script>
    const form = document.getElementById('regForm');
    const msg = document.getElementById('msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.textContent = '';
      msg.className = '';

      const payload = {
        firstName: document.getElementById('firstName').value.trim(),
        lastName: document.getElementById('lastName').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        password: document.getElementById('password').value,
        userType: document.getElementById('userType').value
      };

      try {
        msg.textContent = 'Creating account...';
        msg.classList.add('success');
        await window.Api.register(payload);
        alert('üéâ Account created successfully! Please log in.');
        window.Api.logout();
        location.href = '/login.html';
      } catch (err) {
        msg.textContent = err.message || '‚ùå Registration failed. Please try again.';
        msg.classList.add('error');
      }
    });
</script>
</body>
</html>
